<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Recommended Usage | RestSharp</title>
    <meta name="description" content="Simple .NET client for HTTP REST APIs">
    
    
    <link rel="preload" href="/assets/css/0.styles.c7d45e2d.css" as="style"><link rel="preload" href="/assets/js/app.3b5fb52d.js" as="script"><link rel="preload" href="/assets/js/2.9493af37.js" as="script"><link rel="preload" href="/assets/js/7.55210f6f.js" as="script"><link rel="prefetch" href="/assets/js/3.e0fea32f.js"><link rel="prefetch" href="/assets/js/4.e82826c1.js"><link rel="prefetch" href="/assets/js/5.8441cb07.js"><link rel="prefetch" href="/assets/js/6.333c25ab.js"><link rel="prefetch" href="/assets/js/8.5848f57a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c7d45e2d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/restsharp.png" alt="RestSharp" class="logo"> <span class="site-name can-hide">RestSharp</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://groups.google.com/forum/#!forum/restsharp" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Google Group
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://gitter.im/RestSharp/RestSharp" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitter
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://nuget.org/packages/RestSharp" target="_blank" rel="noopener noreferrer" class="nav-link external">
  NuGet
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/restsharp/RestSharp" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://groups.google.com/forum/#!forum/restsharp" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Google Group
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://gitter.im/RestSharp/RestSharp" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitter
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://nuget.org/packages/RestSharp" target="_blank" rel="noopener noreferrer" class="nav-link external">
  NuGet
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/restsharp/RestSharp" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/getting-started/" class="sidebar-link">Getting Started</a></li><li><a href="/usage/" class="active sidebar-link">Using RestSharp</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="recommended-usage"><a href="#recommended-usage" class="header-anchor">#</a> Recommended Usage</h1> <p>RestSharp works best as the foundation for a proxy class for your API. Here are a couple of examples from the <a href="http://github.com/twilio/twilio-csharp">Twilio</a> library.</p> <p>Create a class to contain your API proxy implementation with an <code>Execute</code> method for funneling all requests to the API.
This allows you to set commonly-used parameters and other settings (like authentication) shared across requests.
Because an account ID and secret key are required for every request you are required to pass those two values when
creating a new instance of the proxy.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Note that exceptions from <code>Execute</code> are not thrown but are available in the <code>ErrorException</code> property.</p></div> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token comment">// TwilioApi.cs</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TwilioApi</span> 
<span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token keyword">string</span> BaseUrl <span class="token operator">=</span> <span class="token string">&quot;https://api.twilio.com/2008-08-01&quot;</span><span class="token punctuation">;</span>

    <span class="token keyword">readonly</span> <span class="token class-name">IRestClient</span> _client<span class="token punctuation">;</span>

    <span class="token keyword">string</span> _accountSid<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">TwilioApi</span><span class="token punctuation">(</span><span class="token keyword">string</span> accountSid<span class="token punctuation">,</span> <span class="token keyword">string</span> secretKey<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        _client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RestClient</span><span class="token punctuation">(</span>BaseUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
        _client<span class="token punctuation">.</span>Authenticator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpBasicAuthenticator</span><span class="token punctuation">(</span>accountSid<span class="token punctuation">,</span> secretKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
        _accountSid <span class="token operator">=</span> accountSid<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> T <span class="token generic-method"><span class="token function">Execute</span><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">RestRequest</span> request<span class="token punctuation">)</span> <span class="token keyword">where</span> T <span class="token punctuation">:</span> <span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        request<span class="token punctuation">.</span><span class="token function">AddParameter</span><span class="token punctuation">(</span><span class="token string">&quot;AccountSid&quot;</span><span class="token punctuation">,</span> _accountSid<span class="token punctuation">,</span> ParameterType<span class="token punctuation">.</span>UrlSegment<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// used on every request</span>
        <span class="token keyword">var</span> response <span class="token operator">=</span> _client<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Execute</span><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>ErrorException <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">const</span> <span class="token keyword">string</span> message <span class="token operator">=</span> <span class="token string">&quot;Error retrieving response.  Check inner details for more info.&quot;</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> twilioException <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Exception</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> response<span class="token punctuation">.</span>ErrorException<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">throw</span> twilioException<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> response<span class="token punctuation">.</span>Data<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><p>Next, define a class that maps to the data returned by the API.</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token comment">// Call.cs</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Call</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> Sid <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">DateTime</span> DateCreated <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">DateTime</span> DateUpdated <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> CallSegmentSid <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> AccountSid <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> Called <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> Caller <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> PhoneNumberSid <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> Status <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">DateTime</span> StartTime <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">DateTime</span> EndTime <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> Duration <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">decimal</span> Price <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> Flags <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Then add a method to query the API for the details of a specific Call resource.</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token comment">// TwilioApi.cs, GetCall method of TwilioApi class</span>
<span class="token keyword">public</span> <span class="token class-name">Call</span> <span class="token function">GetCall</span><span class="token punctuation">(</span><span class="token keyword">string</span> callSid<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    <span class="token keyword">var</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RestRequest</span><span class="token punctuation">(</span><span class="token string">&quot;Accounts/{AccountSid}/Calls/{CallSid}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    request<span class="token punctuation">.</span>RootElement <span class="token operator">=</span> <span class="token string">&quot;Call&quot;</span><span class="token punctuation">;</span>

    request<span class="token punctuation">.</span><span class="token function">AddParameter</span><span class="token punctuation">(</span><span class="token string">&quot;CallSid&quot;</span><span class="token punctuation">,</span> callSid<span class="token punctuation">,</span> ParameterType<span class="token punctuation">.</span>UrlSegment<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token generic-method"><span class="token function">Execute</span><span class="token punctuation">&lt;</span><span class="token class-name">Call</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>There's some magic here that RestSharp takes care of so you don't have to.</p> <p>The API returns XML, which is automatically detected and deserialized to the Call object using the default <code>XmlDeserializer</code>.
By default a RestRequest is made via a GET HTTP request. You can change this by setting the <code>Method</code> property of <code>RestRequest</code>
or specifying the method in the constructor when creating an instance (covered below).
Parameters of type <code>UrlSegment</code> have their values injected into the URL based on a matching token name existing in the Resource property value.
<code>AccountSid</code> is set in <code>TwilioApi.Execute</code> because it is common to every request.
We specify the name of the root element to start deserializing from. In this case, the XML returned is <code>&lt;Response&gt;&lt;Call&gt;...&lt;/Call&gt;&lt;/Response&gt;</code> and since the Response element itself does not contain any information relevant to our model, we start the deserializing one step down the tree.</p> <p>You can also make POST (and PUT/DELETE/HEAD/OPTIONS) requests:</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token comment">// TwilioApi.cs, method of TwilioApi class</span>
<span class="token keyword">public</span> <span class="token class-name">Call</span> <span class="token function">InitiateOutboundCall</span><span class="token punctuation">(</span><span class="token class-name">CallOptions</span> options<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    Require<span class="token punctuation">.</span><span class="token function">Argument</span><span class="token punctuation">(</span><span class="token string">&quot;Caller&quot;</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>Caller<span class="token punctuation">)</span><span class="token punctuation">;</span>
    Require<span class="token punctuation">.</span><span class="token function">Argument</span><span class="token punctuation">(</span><span class="token string">&quot;Called&quot;</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>Called<span class="token punctuation">)</span><span class="token punctuation">;</span>
    Require<span class="token punctuation">.</span><span class="token function">Argument</span><span class="token punctuation">(</span><span class="token string">&quot;Url&quot;</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>Url<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RestRequest</span><span class="token punctuation">(</span><span class="token string">&quot;Accounts/{AccountSid}/Calls&quot;</span><span class="token punctuation">,</span> Method<span class="token punctuation">.</span>POST<span class="token punctuation">)</span><span class="token punctuation">;</span>
    request<span class="token punctuation">.</span>RootElement <span class="token operator">=</span> <span class="token string">&quot;Calls&quot;</span><span class="token punctuation">;</span>

    request<span class="token punctuation">.</span><span class="token function">AddParameter</span><span class="token punctuation">(</span><span class="token string">&quot;Caller&quot;</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>Caller<span class="token punctuation">)</span><span class="token punctuation">;</span>
    request<span class="token punctuation">.</span><span class="token function">AddParameter</span><span class="token punctuation">(</span><span class="token string">&quot;Called&quot;</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>Called<span class="token punctuation">)</span><span class="token punctuation">;</span>
    request<span class="token punctuation">.</span><span class="token function">AddParameter</span><span class="token punctuation">(</span><span class="token string">&quot;Url&quot;</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>Url<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>Method<span class="token punctuation">.</span>HasValue<span class="token punctuation">)</span> request<span class="token punctuation">.</span><span class="token function">AddParameter</span><span class="token punctuation">(</span><span class="token string">&quot;Method&quot;</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>Method<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>SendDigits<span class="token punctuation">.</span><span class="token function">HasValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> request<span class="token punctuation">.</span><span class="token function">AddParameter</span><span class="token punctuation">(</span><span class="token string">&quot;SendDigits&quot;</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>SendDigits<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>IfMachine<span class="token punctuation">.</span>HasValue<span class="token punctuation">)</span> request<span class="token punctuation">.</span><span class="token function">AddParameter</span><span class="token punctuation">(</span><span class="token string">&quot;IfMachine&quot;</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>IfMachine<span class="token punctuation">.</span>Value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>Timeout<span class="token punctuation">.</span>HasValue<span class="token punctuation">)</span> request<span class="token punctuation">.</span><span class="token function">AddParameter</span><span class="token punctuation">(</span><span class="token string">&quot;Timeout&quot;</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>Timeout<span class="token punctuation">.</span>Value<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token generic-method"><span class="token function">Execute</span><span class="token punctuation">&lt;</span><span class="token class-name">Call</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>This example also demonstrates RestSharp's lightweight validation helpers.
These helpers allow you to verify before making the request that the values submitted are valid.
Read more about Validation here.</p> <p>All of the values added via AddParameter in this example will be submitted as a standard encoded form,
similar to a form submission made via a web page. If this were a GET-style request (GET/DELETE/OPTIONS/HEAD),
the parameter values would be submitted via the query string instead. You can also add header and cookie
parameters with <code>AddParameter</code>. To add all properties for an object as parameters, use <code>AddObject</code>.
To add a file for upload, use <code>AddFile</code> (the request will be sent as a multipart encoded form).
To include a request body like XML or JSON, use <code>AddXmlBody</code> or <code>AddJsonBody</code>.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/restsharp/RestSharp/edit/master/docs/usage/README.md" target="_blank" rel="noopener noreferrer">Help us by improving this page!</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/6/2020, 3:21:23 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/getting-started/" class="prev">Getting Started</a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.3b5fb52d.js" defer></script><script src="/assets/js/2.9493af37.js" defer></script><script src="/assets/js/7.55210f6f.js" defer></script>
  </body>
</html>
